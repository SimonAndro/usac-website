
var BigPicture=function(){var t,e,n,o,i,r,a,c,p,s,d,l,u,f,m,b,g,h,x,v,y,w,_,T,k,M,S,E,L,A,H,z,I=[],V={},C="appendChild",O="createElement",D="removeChild";function N(){var e=t.getBoundingClientRect(),i=e.top,r=e.left,a=e.width,c=e.height;return"transform:translate3D("+(r-(n.clientWidth-a)/2)+"px, "+(i-(n.clientHeight-c)/2)+"px, 0) scale3D("+t.clientWidth/o.clientWidth+", "+t.clientHeight/o.clientHeight+", 0)"}function W(t){Array.isArray(t)?(o=r.cloneNode(),t.forEach(function(t){var e=document[O]("SOURCE");e.src=t,e.type="video/"+t.match(/.(\w+)$/)[1],o[C](e)})):(o=r).src=t}function B(t){var e=L.length-1;if(!u){if(t>0&&E===e||t<0&&!E){if(!z.loop)return j(i,""),void setTimeout(j,9,i,"animation:"+(t>0?"bpl":"bpf")+" .3s;transition:transform .35s");E=t>0?-1:e+1}if([(E=Math.max(0,Math.min(E+t,e)))-1,E,E+1].forEach(function(t){if(t=Math.max(0,Math.min(t,e)),!V[t]){var n,o=L[t].src;L[t].isVid?((n=r.cloneNode()).pause(),n.preload=!0,n.src=o):((n=document[O]("IMG")).addEventListener("load",F.bind(null,o)),n.onerror=function(){L[t]={error:"Error loading image"}},n.src=o),V[t]=n}}),V[E].complete)return P(t);if(u=!0,j(m,"opacity:.4;"),n[C](m),L[E].isVid){!function e(n){~[1,4].indexOf(n.readyState)?(n.complete=!0,n.currentTime=0,y&&P(t)):n.error?(L[E].error="Error loading video",n.complete=!0,y&&P(t)):setTimeout(e,35,n)}(V[E])}else V[E].onload=function(){y&&P(t)}}}function P(e){u&&(n[D](m),u=!1);var a=L[E];a.error&&alert(a.error);var c=a.isVid;o===r&&r.pause(),j(o,"animation:"+(e>0?"bpfol":"bpfor")+" .35s both"),a.error||(c?r=o=V[E]:i=o=V[E],j(o,"animation:"+(e>0?"bpfl":"bpfr")+" .35s;transition:transform .35s"),n[C](o),c&&o.play(),a.el&&(t=a.el)),A.innerHTML=E+1+"/"+L.length,X(L[E].caption)}function q(){var t,e,n=.95*window.innerHeight,o=.95*window.innerWidth,i=n/o,r=z.dimensions||[1920,1080],a=r[0],p=r[1],s=p/a;s>i?e=(t=Math.min(p,n))/s:t=(e=Math.min(a,o))*s,c.style.cssText+="width:"+e+"px;height:"+t+"px;"}function G(t){~[1,4].indexOf(o.readyState)?(U(),setTimeout(function(){o.play()},99)):o.error?U(t):f=setTimeout(G,35,t)}function R(e){z.noLoader||(e&&j(m,"top:"+t.offsetTop+"px;left:"+t.offsetLeft+"px;height:"+t.clientHeight+"px;width:"+t.clientWidth+"px"),t.parentElement[e?C:D](m),u=e)}function X(t){t&&(g.innerHTML=t),j(b,"opacity:"+(t?"1;pointer-events:auto":"0"))}function F(t){!~I.indexOf(t)&&I.push(t)}function U(t){if(u&&R(),T&&T(),"string"==typeof t)return $(),z.onError?z.onError():alert("Error: The requested "+t+" could not be loaded.");_&&F(s),o.style.cssText+=N(),j(n,"opacity:1;pointer-events:auto"),k=setTimeout(k,410),v=!0,y=!!L,setTimeout(function(){o.style.cssText+="transition:transform .35s;transform:none",h&&setTimeout(X,250,h)},60)}function Y(t){var e=t.target,i=[b,x,r,a,g,S,M,m];e&&e.blur(),w||~i.indexOf(e)||(o.style.cssText+=N(),j(n,"pointer-events:auto"),setTimeout($,350),clearTimeout(k),v=!1,w=!0)}function $(){if((o===c?p:o).removeAttribute("src"),document.body[D](n),n[D](o),j(n,""),j(o,""),X(!1),y){for(var t=n.querySelectorAll("img"),e=0;e<t.length;e++)n[D](t[e]);u&&n[D](m),n[D](A),y=L=!1,V={},H||n[D](M),H||n[D](S),i.onload=U,i.onerror=U.bind(null,"image")}z.onClose&&z.onClose(),w=u=!1}function j(t,e){t.style.cssText=e}return function(w){e||function(){var t;function s(t){var e=document[O]("button");return e.className=t,e.innerHTML='<svg viewBox="0 0 48 48"><path d="M28 24L47 5a3 3 0 1 0-4-4L24 20 5 1a3 3 0 1 0-4 4l19 19L1 43a3 3 0 1 0 4 4l19-19 19 19a3 3 0 0 0 4 0v-4L28 24z"/></svg>',e}function l(t,e){var n=document[O]("button");return n.className="bp-lr",n.innerHTML='<svg viewBox="0 0 129 129" height="70" fill="#fff"><path d="M88.6 121.3c.8.8 1.8 1.2 2.9 1.2s2.1-.4 2.9-1.2a4.1 4.1 0 0 0 0-5.8l-51-51 51-51a4.1 4.1 0 0 0-5.8-5.8l-54 53.9a4.1 4.1 0 0 0 0 5.8l54 53.9z"/></svg>',j(n,e),n.onclick=function(e){e.stopPropagation(),B(t)},n}var f=document[O]("STYLE");f.innerHTML="#bp_caption,#bp_container{bottom:0;left:0;right:0;position:fixed;opacity:0}#bp_container>*,#bp_loader{position:absolute;right:0;z-index:10}#bp_container,#bp_caption,#bp_container svg{pointer-events:none}#bp_container{top:0;z-index:9999;background:rgba(0,0,0,.7);opacity:0;transition:opacity .35s}#bp_loader{top:0;left:0;bottom:0;display:flex;align-items:center;cursor:wait;background:0;z-index:9}#bp_loader svg{width:50%;max-width:300px;max-height:50%;margin:auto;animation:bpturn 1s infinite linear}#bp_aud,#bp_container img,#bp_sv,#bp_vid{user-select:none;max-height:96%;max-width:96%;top:0;bottom:0;left:0;margin:auto;box-shadow:0 0 3em rgba(0,0,0,.4);z-index:-1}#bp_sv{background:#111}#bp_sv svg{width:66px}#bp_caption{font-size:.9em;padding:1.3em;background:rgba(15,15,15,.94);color:#fff;text-align:center;transition:opacity .3s}#bp_aud{width:650px;top:calc(50% - 20px);bottom:auto;box-shadow:none}#bp_count{left:0;right:auto;padding:14px;color:rgba(255,255,255,.7);font-size:22px;cursor:default}#bp_container button{position:absolute;border:0;outline:0;background:0;cursor:pointer;transition:all .1s}#bp_container>.bp-x{padding:0;height:41px;width:41px;border-radius:100%;top:8px;right:14px;opacity:.8;line-height:1}#bp_container>.bp-x:focus,#bp_container>.bp-x:hover{background:rgba(255,255,255,.2)}.bp-x svg,.bp-xc svg{height:21px;width:20px;fill:#fff;vertical-align:top;}.bp-xc svg{width:16px}#bp_container .bp-xc{left:2%;bottom:100%;padding:9px 20px 7px;background:#d04444;border-radius:2px 2px 0 0;opacity:.85}#bp_container .bp-xc:focus,#bp_container .bp-xc:hover{opacity:1}.bp-lr{top:50%;top:calc(50% - 130px);padding:99px 0;width:6%;background:0;border:0;opacity:.4;transition:opacity .1s}.bp-lr:focus,.bp-lr:hover{opacity:.8}@keyframes bpf{50%{transform:translatex(15px)}100%{transform:none}}@keyframes bpl{50%{transform:translatex(-15px)}100%{transform:none}}@keyframes bpfl{0%{opacity:0;transform:translatex(70px)}100%{opacity:1;transform:none}}@keyframes bpfr{0%{opacity:0;transform:translatex(-70px)}100%{opacity:1;transform:none}}@keyframes bpfol{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(-70px)}}@keyframes bpfor{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(70px)}}@keyframes bpturn{0%{transform:none}100%{transform:rotate(360deg)}}@media (max-width:600px){.bp-lr{font-size:15vw}}",document.head[C](f),(n=document[O]("DIV")).id="bp_container",n.onclick=Y,d=s("bp-x"),n[C](d),"ontouchstart"in window&&(H=!0,n.ontouchstart=function(e){var n=e.changedTouches;t=n[0].pageX},n.ontouchmove=function(t){t.preventDefault()},n.ontouchend=function(e){var n=e.changedTouches;if(y){var o=n[0].pageX-t;o<-30&&B(1),o>30&&B(-1)}}),i=document[O]("IMG"),(r=document[O]("VIDEO")).id="bp_vid",r.setAttribute("playsinline",!0),r.controls=!0,r.loop=!0,(a=document[O]("audio")).id="bp_aud",a.controls=!0,a.loop=!0,(A=document[O]("span")).id="bp_count",(b=document[O]("DIV")).id="bp_caption",(x=s("bp-xc")).onclick=X.bind(null,!1),b[C](x),g=document[O]("SPAN"),b[C](g),n[C](b),M=l(1,"transform:scalex(-1)"),S=l(-1,"left:0;right:auto"),(m=document[O]("DIV")).id="bp_loader",m.innerHTML='<svg viewbox="0 0 32 32" fill="#fff" opacity=".8"><path d="M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24" fill="#000" opacity=".5"/><path d="M16 0a16 16 0 0 1 16 16h-4A12 12 0 0 0 16 4z"/></svg>',(c=document[O]("DIV")).id="bp_sv",(p=document[O]("IFRAME")).setAttribute("allowfullscreen",!0),p.allow="autoplay; fullscreen",p.onload=function(){return c[D](m)},j(p,"border:0;position:absolute;height:100%;width:100%;left:0;top:0"),c[C](p),i.onload=U,i.onerror=U.bind(null,"image"),window.addEventListener("resize",function(){y||u&&R(!0),o===c&&q()}),document.addEventListener("keyup",function(t){var e=t.keyCode;27===e&&v&&Y(n),y&&(39===e&&B(1),37===e&&B(-1),38===e&&B(10),40===e&&B(-10))}),document.addEventListener("keydown",function(t){y&&~[37,38,39,40].indexOf(t.keyCode)&&t.preventDefault()}),document.addEventListener("focus",function(t){v&&!n.contains(t.target)&&(t.stopPropagation(),d.focus())},!0),e=!0}(),u&&(clearTimeout(f),$()),z=w,l=w.ytSrc||w.vimeoSrc,T=w.animationStart,k=w.animationEnd,w.onChangeImage,t=w.el,_=!1,h=t.getAttribute("data-caption"),w.gallery?function(e,r){if(Array.isArray(e))L=e,h=e[E=r||0].caption;else{var a=(L=[].slice.call("string"==typeof e?document.querySelectorAll(e+" [data-bp]"):e)).indexOf(t);E=-1!==a?a:0,L=L.map(function(t){var e=t.getAttribute("data-bp");return{el:t,src:e,caption:t.getAttribute("data-caption"),isVid:/\.(mp4|webm|ogg)/i.test(e)}})}_=!L[E].isVid,s=L[E].src,!~I.indexOf(s)&&R(!0),L.length>1?(n[C](A),A.innerHTML=E+1+"/"+L.length,H||(n[C](M),n[C](S))):L=!1,L[E].isVid?(W(s),G("video")):(o=i).src=s}(w.gallery,w.position):l||w.iframeSrc?(o=c,z.ytSrc?V="https://www.youtube.com/embed/"+l+"?html5=1&rel=0&playsinline=1&autoplay=1":z.vimeoSrc?V="https://player.vimeo.com/video/"+l+"?autoplay=1":z.iframeSrc&&(V=z.iframeSrc),j(m,""),c[C](m),p.src=V,q(),setTimeout(U,9)):w.imgSrc?(_=!0,s=w.imgSrc,!~I.indexOf(s)&&R(!0),(o=i).src=s):w.audio?(R(!0),(o=a).src=w.audio,G("audio file")):w.vidSrc?(R(!0),W(w.vidSrc),G("video")):(o=i).src="IMG"===t.tagName?t.src:window.getComputedStyle(t).backgroundImage.replace(/^url|[(|)|'|"]/g,""),n[C](o),document.body[C](n);var V}}();
